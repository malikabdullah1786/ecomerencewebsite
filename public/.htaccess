<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /
  
  # Don't rewrite files or directories that exist
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  
  # Don't rewrite for assets folder
  RewriteCond %{REQUEST_URI} !^/assets/
  
  # Rewrite everything else to index.html
  RewriteRule . /index.html [L]
</IfModule>

<IfModule mod_headers.c>
  Header set Content-Security-Policy "default-src 'self' https: data: blob: 'unsafe-inline' 'unsafe-eval'; connect-src 'self' https://*.supabase.co wss://*.supabase.co http://85.211.250.189:5000 https://85.211.250.189:5000 http://localhost:5000"
  Header set X-Content-Type-Options "nosniff"
</IfModule>
